![Logo](https://github.com/BitCurator/bitcurator.github.io/blob/master/logos/BitCurator-Basic-400px.png)

# bitcurator-distro-tools

[![GitHub issues](https://img.shields.io/github/issues/bitcurator/bitcurator-distro-tools.svg)](https://github.com/bitcurator/bitcurator-distro-tools/issues)
[![GitHub forks](https://img.shields.io/github/forks/bitcurator/bitcurator-distro-tools.svg)](https://github.com/bitcurator/bitcurator-distro-tools/network)

Disk image analysis tools developed for the BitCurator environment.

## Installing

The included setup.py script will install the BitCurator tools in the appropriate locations. Note! If you're using this script outside of the full BitCurator environment, there are many dependencies that may not be met automatically. 

The full dependency stack can currently be built automatically in Ubuntu 18.04LTS using the SaltStack build repo at https://github.com/bitcurator/bitcurator-distro-salt. Past release (no longer actively maintained) used the now-deprecated https://github.com/bitcurator/bitcurator-distro-bootstrap.

To install:

```shell
  python3 setup.py build
  sudo python3 setup.py install
```

This will install the BitCurator Disk Image Access, BitCurator Mounter, and BitCurator Reporting tools.

## Running the reporting tool (generate_report.py) on the command line:

**generate_report.py**
A module for working with bulk_extractor

This module works with bulk_extractor and identify_filenames modules and extracts the annotaed files generated by the identify_filenames
module and generates a report.

The generate_report.py script uses the python3 port of FPDF software from https://bitbucket.org/cyraxjoe/py3fpdf. Your local PYTHONPATH should include the path to the py3fpdf install.

The generate_report.py script depends on bulk_extractor output to run correctly:

1. Generate output feature files using Bulk Extractor
Example: 

```shell
bulk_extractor ~/Research/TestData/M57-Scenario/usbflashdrives/jo-work-usb-2009-12-11.aff
-o ~/Research/TestData/BEOutputs/jow-output
```

2. Generate text (.txt) and xml (.xml) reports using fiwalk.

Example 1: 

```shell
fiwalk -f -X /[PATH_TO_OUTPUT]/jo-work-usb-fi.xml -T /[PATH_TO_OUTPUT]/jo-work-usb-fi_T /[PATH_TO_DISK_IMAGE]/jo-work-usb-2009-12-11.aff
```

Example 2: 

```shell
fiwalk -f -X icharlie_F.xml -T icharlie_FT /[PATH_TO_DISK_IMAGE]/charlie-work-usb-2009-12-11.aff
```

3. Generate the annotated files from the identify_filenames utility
Example 1: 

```shell
python3 identify_filenames.py --all --imagefile ~/Research/TestData/M57-Scenario/usbflashdrives/jo-work-usb-2009-12-11.aff
~/Research/TestData/BEOutputs/jow-output ~/Research/TestData/BEOutputs/ident-jow-output
```

4. Run the generate_reports script to generate the pdf reports.

(this uses the annotated feature files created in step 3, the fiwalk output
created in step 2, and bulk_extractor output created in step 1)

Example 1: 

```shell
python3 generate_report.py --pdf_report --fiwalk_xmlfile ~/Research/TestData/BEOutputs_131/charlie_fi_F.txt --annotated_dir ~/Research/TestData/BEOutputs_131/annotated_charlie_output --outdir ~/Research/TestData/BEOutputs_131/charlie_rep_outdir
```

Example 2: 

```shell
python3 generate_report.py --pdf_report --fiwalk_txtfile ~/Research/TestData/BEOutputs_131/charlie_fi_FT.txt --annotated_dir ~/Research/TestData/BEOutputs_131/annotated_charlie_output --outdir ~/Research/TestData/BEOutputs_131/charlie_rep_outdir
```
